<!DOCTYPE html>
<html lang = "ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width = device-width, initial-scale = 1">
    <title>Login Page</title>
    <link rel="stylesheet" type="text/css" href="../LOGIN/css/style.css">
</head>
<body>
<section class="login-form" >
    <h1>로그인</h1>
    <form id="loginForm" autocomplete="off">
        <div class="int-area">
            <input type="text" name="id" id="id" required>
            <label for="id">아이디</label>
        </div>
        <div class="int-area">
            <input type="password" name="password" id="password" required>
            <label for="password">비밀번호</label>
        </div>
        <div class="btn-area">
            <button type="submit" id="btn">로그인</button>
        </div>
    </form>
    <div class="caption">
        <a href="../LOGIN/register.html"> 회원가입 </a>
    </div>

    <div class="caption">
        <a href="forgot_password.html"> 비밀번호 찾기</a>
    </div>

</section>
<script>
    const loginForm = document.getElementById('loginForm');

    loginForm.addEventListener('submit', function(e) {
        e.preventDefault(); // 기본 submit 막기

        const id = document.getElementById('id').value;
        const password = document.getElementById('password').value;

        if (!id || !password) {
            alert('아이디와 비밀번호를 모두 입력해주세요.');
            return;
        }

        // 서버로 로그인 요청
        fetch('http://localhost:4000/api/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ id, password })
        })
            .then(res => res.json())
            .then(data => {
                if(data.success){
                    alert('로그인 성공!');
                    // 예: 로그인 성공 시 메인 페이지 이동
                    window.location.href = 'main.html';
                } else {
                    alert('로그인 실패: ' + data.message);
                }
            })
            .catch(err => console.error('에러:', err));
    });
</script>


</body>
</html>

